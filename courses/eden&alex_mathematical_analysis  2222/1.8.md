## 函数的极限(一)

回顾：函数是一个非空集合 $A$ 到另一个集合 $B$ 的**对应法则**！

本小节中，函数 $f$ 是指从 $R$ 的某个非空子集 $X$ 到 $\mathbb{R}$ 的映射  

### 1. 极限，左极限，右极限

- #### 极限

  定义 $U(x_0,\delta)=\{x\in \mathbb{R}:x_0-\delta<x<x_0+\delta\}$

  去心邻域 $U_0(x_0,\delta)= U(x_0,\delta) \backslash x_0$

  设函数 $f(x)$ 在 $U_0(x_0,\delta_0)(\delta_0>0)$ 内有定义。若存在实数 $A$ ，使得 $\forall \epsilon >0, \exist \delta>0$，当 $x\in U_0(x_0,\delta)（i.e.\  0<|x-x_0|<\delta）$ 时，有 $|f(x)-A|<\epsilon$，则称当 $x$ 趋于 $x_0$，函数 $f(x)$ 以 $A$ 为极限，记为 $\lim\limits_{x\rightarrow x_0}f(x)=A$ 或 $f(x)\rightarrow A\ (x\rightarrow x_0)$。

  PS：实际上有更宽泛的定义，只要 $x_0$ 是函数 $f(x)$ 定义域的聚点，就可以定义在该点处的极限。

  ##### Question：

  1. $f(x)=\left\{\begin{aligned} 0\ \ &(x<1)\\ 1\ \ &(x\ge 1) \end{aligned}\right.$ ，判断 $f(x)$ 在 $x_0=1$ 处极限是否存在。
2. $f(x)=\left\{\begin{aligned} 0\ \ &(x<1)\\ 1\ \ &(x= 1)\\2\ \ &(x>1) \end{aligned}\right.$，判断 $f(x)$ 在 $x_0=1$ 处极限是否存在。
  3. $f(x)=x\cdot \sin(1/x)$，判断 $f(x)$ 在 $x_0=0$ 处极限是否存在。
4. $f(x)=sin(1/x)$，判断 $f(x)$ 在 $x_0=0$ 处极限是否存在。
  5. $f(x)=e^x$，证明 $\lim\limits_{x\rightarrow a}=e^a,\forall a\in\mathbb{R}$。

  我们来看一个有趣的函数 $f(x)$，它的定义域为 $[0,1]$：
$$
  f(x)=\left\{\begin{aligned} &1/q, &x=\frac{p}{q}\ (p,q\in \mathbb{N}，\frac{p}{q}为既约真分数)\\
  &0,&x=0或x=1或x\notin \mathbb{Q}
  \end{aligned} \right.
  $$
  我们称它为**黎曼 (Riemann) 函数**。
  
  虽然在定义域内有无穷多个点的函数值不为 $0$，但 $f(x)$ 的极限却处处为 $0$，我们之后还将看到，$f(x)$ 在无理点处处连续。

- #### 左右极限

  如果把去心邻域 $U_0(x_0,\delta_0)$ 分成两块**单侧邻域**——

  左空心邻域：$U_0^+(x_0,\delta)=U_0(x_0,\delta)\cap (x_0,+\infty) \{x\in \mathbb{R} :x_0< x<x_0+\delta\}$

  右空心邻域：$U_0^-(x_0,\delta)=U_0(x_0,\delta)\cap (-\infty,x_0) \{x\in \mathbb{R} :x_0-\delta< x<x_0\}$

  那么就可以定义函数的左右极限：

  设 $f(x)$ 在 $U^+_0(x_0,\delta_0)(\delta_0>0)$ 上有定义。如果存在实数 $A$，使得 $\forall \epsilon >0, \exist \delta>0$，当 $x\in U_0^+(x_0,\delta)（i.e.\  0<x-x_0<\delta）$ 时，有 $|f(x)-A|<\epsilon$，则称 $f(x)$ 在点 $x_0$ 的**右极限存在**，而称 $A$ 为 $f(x)$ 在点 $x_0$ 的**右极限**，记为 $\lim\limits_{x\rightarrow x_0^+}f(x)=A$ 或 $f(x_0^+)=A$。

  类似地可以定义**左极限存在**和**左极限**。

  ##### Question：

  1. $f(x)=\left\{\begin{aligned} 0\ \ &(x<1)\\ 1\ \ &(x= 1)\\2\ \ &(x>1) \end{aligned}\right.$，判断 $f(x)$ 在 $x_0=1$ 处的左极限与右极限。
  2. $f(x)=[x]$（取整函数），判断 $f(x)$ 在 $x_0=1$ 处的左极限与右极限。
  3. 设函数 $f(x)$ 在 $U_0(x_0,\delta_0)$ 上有定义，证明： $\lim\limits_{x\rightarrow x_0} f(x)=A$ 当且仅当 $\lim\limits_{x\rightarrow x_0^-}f(x)=\lim\limits_{x\rightarrow x_0^+}f(x)=A$。

- #### 极限的各种情况

  称集合 $\{x:|x|>h\}(h>0)$ 为 $\infty$ 的邻域，记为 $U(\infty,h)$ （这时就没有必要定义去心邻域了）。

  同样的可以分成两块**单侧邻域**：

   $U^+(\infty,h)=U(\infty,h)\cup (0,\infty)=\{x:x>h\}$ 

   $U^-(\infty,h)=U(\infty,h)\cup (-\infty,0)=\{x:x<-h\}$ 

  这样就可以函数在自变量趋向于无穷大时的极限：

  设函数 $f(x)$ 在 $U^+(\infty,h_0)$ 上有定义。若存在实数 $A$，使得 $\forall \epsilon >0, \exist X\in U^+(\infty,h_0)$，当 $x>X$ 时，有 $|f(x)-A|<\epsilon$，则称当 $x$ 趋于 $+\infty$ 时 $f(x)$ 的**极限存在**，其极限为 $A$，记为 $\lim\limits_{x\rightarrow +\infty}f(x)=A$ 或 $f(x)\rightarrow A(x\rightarrow +\infty)$。

  类似地可以定义 $\lim\limits_{x\rightarrow -\infty}f(x)=A$ 和 $\lim\limits_{x\rightarrow \infty}f(x)=A$ 。

  ##### Question：

  1. 设函数 $f(x)$ 在 $U(\infty,h_0)$ 上有定义，证明： $\lim\limits_{x\rightarrow \infty} f(x)=A$ 当且仅当 $\lim\limits_{x\rightarrow -\infty}f(x)=\lim\limits_{x\rightarrow +\infty}f(x)=A$。
  2. 设序列 $\{a_n\}$ 收敛于 $A$，定义函数 $f(x)=a_{|[x]+1|}$，证明：$\lim\limits_{x\rightarrow \infty} f(x)=A$。

- #### 广义极限

  如果自变量趋向于一个值时，函数趋向于无穷大，则可以定义广义极限：

  设 $f(x)$ 在 $U_0(x_0,\delta_0)(\delta_0>0)$ 上有定义，若 $\forall M>0,\exist \delta>0$，使得当 $x\in U_0(x,\delta)$ 时，有 $f(x)>M$，则称当 $x$ 趋于 $x_0$，$f(x)$ 趋于 $+\infty$，或称当 $x$ 趋于 $x_0$ 时，$f(x)$ 的**广义极限**为 $+\infty$。记为 $\lim\limits_{x\rightarrow x_0}f(x)=+\infty$ 或 $f(x)\rightarrow +\infty(x\rightarrow x_0)$。此时也称 $f(x)$ 为当 $x$ 趋于 $x_0$ 时的**正无穷大量**。

  同样地可以定义**负无穷大量**和**无穷大量**。

  对于函数极限而言，自变量有以下几种变化情况：
  $$
  x\rightarrow x_0;\ x\rightarrow x_0^+;\ x\rightarrow x_0^{-};\ x\rightarrow \infty;\ x\rightarrow +\infty;\ x\rightarrow -\infty
  $$
  对于这六种情况可以定义各自的**广义极限**：
  $$
  f(x)\rightarrow A;\ f(x)\rightarrow +\infty;\ f(x)\rightarrow -\infty;\ f(x)\rightarrow \infty
  $$
  因此一共有 $24$ 种可能的函数极限的情形。

  但由于它们之间有极大的相似之处，所以很容易进行记忆和想象。

  ##### Question：

  1. $f(x)=x^2\sin x$，判断它是不是当 $x\rightarrow \infty$ 时的无穷大量。
  
  2. $f(x)=1/(x-1)\ (x\neq 1)$，求 $f(1^-),f(1^+),\lim\limits_{x\rightarrow 1}f(x),\lim\limits_{x\rightarrow \infty}f(x)$。
  
     

### 2. 函数极限的性质

- #### 函数极限的四则运算

  设函数 $f(x),g(x)$，分别对于六种自变量的变化情况
  $$
  x\rightarrow x_0;\ x\rightarrow x_0^+;\ x\rightarrow x_0^{-};\ x\rightarrow \infty;\ x\rightarrow +\infty;\ x\rightarrow -\infty
  $$
  若 $f(x)\rightarrow A,\ g(x)\rightarrow B$，则容易证明：
  $$
  \begin{aligned}
  &h_1(x)=f(x)+g(x)\rightarrow A+B\\
  &h_2(x)=f(x)-g(x)\rightarrow A-B\\
  &h_3(x)=f(x)\cdot g(x)\rightarrow A\cdot B\ (A\neq 0,B\neq 0)\\
  &h_4(x)=f(x)/ g(x)\rightarrow A/B\ (B\neq 0)
  \end{aligned}
  $$
  若广义极限 $A,B$ 为无穷大量，则可以规定一些特殊的四则运算，例如 $(+\infty)+(+\infty)=+\infty,\ 
  (+\infty)\cdot (+\infty)=+\infty$ 等等。

  ##### Question：

  1. 证明函数极限的四则运算法则。
  2. 求 $\lim\limits_{x\rightarrow +\infty}(x^2+1)/(1-2x^2)$。
  3. 设函数 $f(x),g(x)$，若 $f(x)$ 在 $x_0=0$ 处极限为 $0$，而 $h(x)=f(x)/g(x)$ 在 $x_0=0$ 处极限为 $1$，证明 $g(x)$ 在 $x_0=0$ 处极限存在且也为 $0$。

- #### 复合函数的极限

  设 $f(x)=1/x,\ g(x)=x^2$

  容易证明 $\lim\limits_{x\rightarrow 4}f(x)=1/4,\lim\limits_{x\rightarrow 2}g(x)=4$。

  那么是否 $\lim\limits_{x\rightarrow 2}f(g(x))=f(\lim\limits_{x\rightarrow 2}g(x))=f(4)=1/4$ 呢？经验证是成立的。

  我们自然地就想到，是否对于任何函数 $f(x),g(x)$，都满足 $\lim\limits_{x\rightarrow a}f(g(x))=f(\lim\limits_{x\rightarrow a}g(x))$。然而答案是否定的。这种复合函数的极限运算需要满足一些限制条件，这将在下一节提到。

  ##### Question：

  1. $f(x)=[x],g(x)=1-x^2$，判断 $\lim\limits_{x\rightarrow 0}f(g(x)) $ 与 $f(\lim\limits_{x\rightarrow 0}g(x))$ 是否相等。
